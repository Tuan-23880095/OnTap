<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªá Th·ªëng √în T·∫≠p - HCMUS Style</title>
    <style>
        :root {
            --primary: #005a8d;
            --accent: #f39c12;
            --light-bg: #f8f9fa;
            --border-color: #ddd;
        }
        body { display: flex; flex-direction: column; min-height: 100vh; background-color: var(--light-bg); font-family: 'Segoe UI', sans-serif; margin: 0; }
        
        /* HEADER */
        header { background-color: #fff; border-bottom: 4px solid var(--primary); padding: 15px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .header-container { max-width: 1200px; margin: 0 auto; padding: 0 20px; display: flex; align-items: center; gap: 20px; }
        .logo { height: 80px; width: auto; }
        .header-text h1 { color: var(--primary); font-size: 1.8rem; margin: 0; text-transform: uppercase; font-weight: 700; }
        .header-text p { color: #666; margin: 5px 0 0 0; font-size: 1rem; }

        /* BODY */
        .main-body { flex: 1; max-width: 1200px; width: 100%; margin: 40px auto; padding: 0 20px; box-sizing: border-box; }
        .domain-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        
        .domain-card { background: #fff; border-radius: 8px; border: 1px solid var(--border-color); overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.05); transition: transform 0.3s ease; }
        .domain-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px rgba(0,0,0,0.1); }
        .domain-header { background-color: var(--primary); color: #fff; padding: 15px 20px; display: flex; align-items: center; gap: 10px; }
        .domain-title { margin: 0; font-size: 1.2rem; font-weight: 600; }
        .domain-content { padding: 20px; }

        .subject-item { border-bottom: 1px solid #eee; padding-bottom: 15px; margin-bottom: 15px; }
        .subject-item:last-child { border-bottom: none; margin-bottom: 0; }
        .subject-title { color: var(--primary); font-size: 1.1rem; margin: 0 0 10px 0; font-weight: bold; }
        
        .exam-link { display: block; padding: 8px 12px; background-color: #f1f5f9; margin-bottom: 5px; border-radius: 4px; text-decoration: none; color: #333; font-size: 0.9rem; transition: background 0.2s; border-left: 3px solid transparent; }
        .exam-link:hover { background-color: #e2e8f0; border-left-color: var(--accent); color: var(--primary); }
        .empty-msg { color: #999; font-style: italic; font-size: 0.9rem; }

        /* FOOTER */
        footer { background-color: var(--primary); color: #fff; text-align: center; padding: 20px 0; margin-top: auto; border-top: 5px solid var(--accent); }
    </style>
</head>
<body>

<header>
    <div class="header-container">
        <img src="https://bdvh.hcmus.edu.vn/images/logo2_bdvh.jpg" alt="Logo BDVH HCMUS" class="logo">
        <div class="header-text">
            <h1>H·ªÜ TH·ªêNG √îN T·∫¨P</h1>
            <p>Ng√¢n h√†ng ƒë·ªÅ thi tr·ª±c tuy·∫øn - Trung t√¢m B·ªìi d∆∞·ª°ng VƒÉn h√≥a</p>
        </div>
    </div>
</header>

<div class="main-body">
    <div class="domain-grid" id="app-content">
        <div style="width: 100%; text-align: center; padding: 50px;">ƒêang t·∫£i d·ªØ li·ªáu...</div>
    </div>
</div>

<footer>
    <div class="container">
        <p><strong>T√°c gi·∫£: ThS. ƒêinh Qu·ªëc Tu·∫•n</strong> - ƒêH Khoa h·ªçc T·ª± nhi√™n, ƒêHQG-HCM</p>
        <p>B·∫£n quy·ªÅn thu·ªôc v·ªÅ ƒêinh Qu·ªëc Tu·∫•n &copy; 2025</p>
    </div>
</footer>

<!-- IMPORT SCRIPTS -->
<!-- Th·ª© t·ª± r·∫•t quan tr·ªçng: app.js ch·∫°y tr∆∞·ªõc ƒë·ªÉ ƒë·ªãnh nghƒ©a Class, sau ƒë√≥ data.js d√πng Class ƒë√≥ -->
<script src="app.js"></script>
<script src="data.js"></script>

<script>
    // --- APP.JS CONTENT ---
    class Exam {
        constructor(id, title, time, filename) {
            this.id = id;
            this.title = title;
            this.time = time;
            this.filename = filename;
        }
        getUrl(folder) {
            return `${folder}/${this.filename}`;
        }
    }

    class Subject {
        constructor(name, folder) {
            this.name = name;
            this.folder = folder; 
            this.exams = [];
        }
        
        addExam(exam) {
            this.exams.push(exam);
            return this; 
        }
    }

    class Domain {
        constructor(name, icon) {
            this.name = name;
            this.icon = icon;
            this.subjects = [];
        }

        addSubject(subject) {
            this.subjects.push(subject);
            return this;
        }
    }

    // --- DATA.JS CONTENT ---
    const mathDomain = new Domain("To√°n H·ªçc", "üìê");
    const toan6 = new Subject("To√°n 6", "Toan6");
    toan6.addExam(new Exam("T6_CK1_01", "ƒê·ªÅ Cu·ªëi K·ª≥ 1 - S·ªë 01", "90 ph√∫t", "T6_CK1_2526_01.html"));
    const toan11 = new Subject("To√°n 11", "Toan11");
    mathDomain.addSubject(toan6).addSubject(toan11);

    const scienceDomain = new Domain("Khoa H·ªçc T·ª± Nhi√™n", "üß™");
    const khtn6 = new Subject("KHTN 6", "KHTN6");
    scienceDomain.addSubject(khtn6);

    const socialDomain = new Domain("Khoa H·ªçc X√£ H·ªôi", "üìö");
    const van7 = new Subject("Ng·ªØ VƒÉn 7", "Van7");
    socialDomain.addSubject(van7);

    const otherDomain = new Domain("M√îN KH√ÅC", "üí°");
    const cn7 = new Subject("C√¥ng Ngh·ªá 7", "MonPhu"); 
    cn7.addExam(new Exam("CN7_CK1_01", "ƒê·ªÅ Cu·ªëi K·ª≥ 1 - S·ªë 01", "45 ph√∫t", "CN7_CK1_2526_01.html"));
    otherDomain.addSubject(cn7);

    const database = [mathDomain, scienceDomain, socialDomain, otherDomain];

    // --- RENDER LOGIC ---
    function renderApp() {
        const container = document.getElementById('app-content');
        container.innerHTML = '';

        if (typeof database === 'undefined' || !database) {
            container.innerHTML = `
                <div style="width:100%; text-align:center; color:red; padding:20px; border:1px solid red; background:#fff5f5;">
                    <h3>‚ö†Ô∏è L·ªói D·ªØ Li·ªáu!</h3>
                    <p>Kh√¥ng t√¨m th·∫•y bi·∫øn <code>database</code>.</p>
                </div>`;
            return;
        }

        database.forEach(domain => {
            const card = document.createElement('div');
            card.className = 'domain-card';

            const header = document.createElement('div');
            header.className = 'domain-header';
            header.innerHTML = `<span class="domain-icon">${domain.icon}</span><h3 class="domain-title">${domain.name}</h3>`;
            card.appendChild(header);

            const content = document.createElement('div');
            content.className = 'domain-content';

            if(domain.subjects.length === 0) {
                content.innerHTML = '<div class="empty-msg">Ch∆∞a c√≥ m√¥n h·ªçc n√†o.</div>';
            } else {
                domain.subjects.forEach(sub => {
                    const subDiv = document.createElement('div');
                    subDiv.className = 'subject-item';

                    const subTitle = document.createElement('div');
                    subTitle.className = 'subject-title';
                    subTitle.innerHTML = `${sub.name} <span style="font-weight:normal; font-size:0.8em; color:#777">(${sub.exams.length})</span>`;
                    subDiv.appendChild(subTitle);

                    const examList = document.createElement('div');
                    if (sub.exams.length === 0) {
                        examList.innerHTML = '<div class="empty-msg">ƒêang c·∫≠p nh·∫≠t ƒë·ªÅ...</div>';
                    } else {
                        sub.exams.forEach(exam => {
                            const link = document.createElement('a');
                            link.href = exam.getUrl(sub.folder); 
                            link.className = 'exam-link';
                            link.innerHTML = `${exam.title} <span style="float:right; font-size:0.8em; color:#666">${exam.time}</span>`;
                            examList.appendChild(link);
                        });
                    }
                    subDiv.appendChild(examList);
                    content.appendChild(subDiv);
                });
            }
            card.appendChild(content);
            container.appendChild(card);
        });
    }

    document.addEventListener('DOMContentLoaded', () => {
        try {
            renderApp();
        } catch (e) {
            console.error(e);
            document.getElementById('app-content').innerHTML = '<div style="color:red; text-align:center;">L·ªói Javascript: ' + e.message + '</div>';
        }
    });
</script>

</body>
</html>
